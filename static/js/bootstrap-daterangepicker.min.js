!function(e){var t=function(t,n,r){var i=typeof n=="object";var s;this.startDate=Date.today();this.endDate=Date.today();this.minDate=false;this.maxDate=false;this.changed=false;this.cleared=false;this.showDropdowns=false;this.ranges={};this.dateLimit=false;this.opens="right";this.cb=function(){};this.format="MM/dd/yyyy";this.separator=" - ";this.showWeekNumbers=false;this.buttonClasses=["btn-success"];this.applyClass="btn btn-small btn-success";this.clearClass="btn btn-small";this.locale={applyLabel:"Apply",clearLabel:"Clear",fromLabel:"From",toLabel:"To",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:Date.CultureInfo.shortestDayNames,monthNames:Date.CultureInfo.monthNames,firstDay:0};s=this.locale;this.leftCalendar={month:Date.today().set({day:1,month:this.startDate.getMonth(),year:this.startDate.getFullYear()}),calendar:Array()};this.rightCalendar={month:Date.today().set({day:1,month:this.endDate.getMonth(),year:this.endDate.getFullYear()}),calendar:Array()};this.element=e(t);if(this.element.hasClass("pull-right"))this.opens="left";if(this.element.is("input")){this.element.on({click:e.proxy(this.show,this),focus:e.proxy(this.show,this)})}else{this.element.on("click",e.proxy(this.show,this))}if(i){if(typeof n.locale=="object"){e.each(s,function(e,t){s[e]=n.locale[e]||t})}if(n.applyClass){this.applyClass=n.applyClass}if(n.clearClass){this.clearClass=n.clearClass}}var o='<div class="daterangepicker dropdown-menu">'+'<div class="calendar left"></div>'+'<div class="calendar right"></div>'+'<div class="ranges">'+'<div class="range_inputs">'+'<div class="daterangepicker_start_input" style="float: left">'+'<label for="daterangepicker_start">'+this.locale.fromLabel+"</label>"+'<input class="input-mini" type="text" name="daterangepicker_start" value="" disabled="disabled" />'+"</div>"+'<div class="daterangepicker_end_input" style="float: left; padding-left: 11px">'+'<label for="daterangepicker_end">'+this.locale.toLabel+"</label>"+'<input class="input-mini" type="text" name="daterangepicker_end" value="" disabled="disabled" />'+"</div>"+'<button class="'+this.applyClass+' applyBtn" disabled="disabled">'+this.locale.applyLabel+"</button>Â "+'<button class="'+this.clearClass+' clearBtn">'+this.locale.clearLabel+"</button>"+"</div>"+"</div>"+"</div>";this.container=e(o).appendTo("body");if(i){if(typeof n.format=="string")this.format=n.format;if(typeof n.separator=="string")this.separator=n.separator;if(typeof n.startDate=="string")this.startDate=Date.parseExact(n.startDate,this.format);if(typeof n.endDate=="string")this.endDate=Date.parseExact(n.endDate,this.format);if(typeof n.minDate=="string")this.minDate=Date.parseExact(n.minDate,this.format);if(typeof n.maxDate=="string")this.maxDate=Date.parseExact(n.maxDate,this.format);if(typeof n.startDate=="object")this.startDate=n.startDate;if(typeof n.endDate=="object")this.endDate=n.endDate;if(typeof n.minDate=="object")this.minDate=n.minDate;if(typeof n.maxDate=="object")this.maxDate=n.maxDate;if(typeof n.ranges=="object"){for(var u in n.ranges){var a=n.ranges[u][0];var f=n.ranges[u][1];if(typeof a=="string")a=Date.parse(a);if(typeof f=="string")f=Date.parse(f);if(this.minDate&&a<this.minDate)a=this.minDate;if(this.maxDate&&f>this.maxDate)f=this.maxDate;if(this.minDate&&f<this.minDate||this.maxDate&&a>this.maxDate){continue}this.ranges[u]=[a,f]}var l="<ul>";for(var u in this.ranges){l+="<li>"+u+"</li>"}l+="<li>"+this.locale.customRangeLabel+"</li>";l+="</ul>";this.container.find(".ranges").prepend(l)}if(typeof n.dateLimit=="object")this.dateLimit=n.dateLimit;if(typeof n.locale=="object"){if(typeof n.locale.firstDay=="number"){this.locale.firstDay=n.locale.firstDay;var c=n.locale.firstDay;while(c>0){this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift());c--}}}if(typeof n.opens=="string")this.opens=n.opens;if(typeof n.showWeekNumbers=="boolean"){this.showWeekNumbers=n.showWeekNumbers}if(typeof n.buttonClasses=="string"){this.buttonClasses=[n.buttonClasses]}if(typeof n.buttonClasses=="object"){this.buttonClasses=n.buttonClasses}if(typeof n.showDropdowns=="boolean"){this.showDropdowns=n.showDropdowns}}var h=this.container;e.each(this.buttonClasses,function(e,t){h.find("button").addClass(t)});if(this.opens=="right"){var p=this.container.find(".calendar.left");var d=this.container.find(".calendar.right");p.removeClass("left").addClass("right");d.removeClass("right").addClass("left")}if(typeof n=="undefined"||typeof n.ranges=="undefined")this.container.find(".calendar").show();if(typeof r=="function")this.cb=r;this.container.addClass("opens"+this.opens);if(!i||typeof n.startDate=="undefined"&&typeof n.endDate=="undefined"){if(e(this.element).is("input[type=text]")){var v=e(this.element).val();var m=v.split(this.separator);if(m.length==2){this.startDate=Date.parseExact(m[0],this.format);this.endDate=Date.parseExact(m[1],this.format)}}}this.container.on("mousedown",e.proxy(this.mousedown,this));this.container.find(".calendar").on("click",".prev",e.proxy(this.clickPrev,this));this.container.find(".calendar").on("click",".next",e.proxy(this.clickNext,this));this.container.find(".ranges").on("click","button.applyBtn",e.proxy(this.clickApply,this));this.container.find(".ranges").on("click","button.clearBtn",e.proxy(this.clickClear,this));this.container.find(".calendar").on("click","td.available",e.proxy(this.clickDate,this));this.container.find(".calendar").on("mouseenter","td.available",e.proxy(this.enterDate,this));this.container.find(".calendar").on("mouseleave","td.available",e.proxy(this.updateView,this));this.container.find(".ranges").on("click","li",e.proxy(this.clickRange,this));this.container.find(".ranges").on("mouseenter","li",e.proxy(this.enterRange,this));this.container.find(".ranges").on("mouseleave","li",e.proxy(this.updateView,this));this.container.find(".calendar").on("change","select.yearselect",e.proxy(this.updateYear,this));this.container.find(".calendar").on("change","select.monthselect",e.proxy(this.updateMonth,this));this.element.on("keyup",e.proxy(this.updateFromControl,this));this.updateView();this.updateCalendars()};t.prototype={constructor:t,mousedown:function(t){t.stopPropagation();if(!this.showDropdowns||e(t.target).not("select").length)t.preventDefault()},updateView:function(){this.leftCalendar.month.set({month:this.startDate.getMonth(),year:this.startDate.getFullYear()});this.rightCalendar.month.set({month:this.endDate.getMonth(),year:this.endDate.getFullYear()});this.container.find("input[name=daterangepicker_start]").val(this.startDate.toString(this.format));this.container.find("input[name=daterangepicker_end]").val(this.endDate.toString(this.format));if(this.startDate.equals(this.endDate)||this.startDate.isBefore(this.endDate)){this.container.find("button.applyBtn").removeAttr("disabled")}else{this.container.find("button.applyBtn").attr("disabled","disabled")}},updateFromControl:function(){if(!this.element.is("input"))return;var e=this.element.val().split(this.separator);var t=Date.parseExact(e[0],this.format);var n=Date.parseExact(e[1],this.format);if(t==null||n==null)return;if(n.isBefore(t))return;this.startDate=t;this.endDate=n;this.updateView();this.cb(this.startDate,this.endDate);this.updateCalendars()},notify:function(){if(!this.cleared){this.updateView()}if(this.element.is("input")){this.element.val(this.cleared?"":this.startDate.toString(this.format)+this.separator+this.endDate.toString(this.format))}var e=this.cleared?null:this.startDate,t=this.cleared?null:this.endDate;this.cleared=false;this.cb(e,t)},move:function(){if(this.opens=="left"){this.container.css({top:this.element.offset().top+this.element.outerHeight(),right:e(window).width()-this.element.offset().left-this.element.outerWidth(),left:"auto"})}else{this.container.css({top:this.element.offset().top+this.element.outerHeight(),left:this.element.offset().left,right:"auto"})}},show:function(t){this.container.show();this.move();if(t){t.stopPropagation();t.preventDefault()}this.changed=false;this.element.trigger("shown",{target:t.target,picker:this});e(document).on("mousedown",e.proxy(this.hide,this))},hide:function(t){this.container.hide();e(document).off("mousedown",this.hide);if(this.changed){this.changed=false;this.notify()}},enterRange:function(e){var t=e.target.innerHTML;if(t==this.locale.customRangeLabel){this.updateView()}else{var n=this.ranges[t];this.container.find("input[name=daterangepicker_start]").val(n[0].toString(this.format));this.container.find("input[name=daterangepicker_end]").val(n[1].toString(this.format))}},clickRange:function(e){var t=e.target.innerHTML;if(t==this.locale.customRangeLabel){this.container.find(".calendar").show()}else{var n=this.ranges[t];this.startDate=n[0];this.endDate=n[1];this.leftCalendar.month.set({month:this.startDate.getMonth(),year:this.startDate.getFullYear()});this.rightCalendar.month.set({month:this.endDate.getMonth(),year:this.endDate.getFullYear()});this.updateCalendars();this.changed=true;this.container.find(".calendar").hide();this.hide()}},clickPrev:function(t){var n=e(t.target).parents(".calendar");if(n.hasClass("left")){this.leftCalendar.month.add({months:-1})}else{this.rightCalendar.month.add({months:-1})}this.updateCalendars()},clickNext:function(t){var n=e(t.target).parents(".calendar");if(n.hasClass("left")){this.leftCalendar.month.add({months:1})}else{this.rightCalendar.month.add({months:1})}this.updateCalendars()},enterDate:function(t){var n=e(t.target).attr("title");var r=n.substr(1,1);var i=n.substr(3,1);var s=e(t.target).parents(".calendar");if(s.hasClass("left")){this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[r][i].toString(this.format))}else{this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[r][i].toString(this.format))}},clickDate:function(t){var n=e(t.target).attr("title");var r=n.substr(1,1);var i=n.substr(3,1);var s=e(t.target).parents(".calendar");if(s.hasClass("left")){startDate=this.leftCalendar.calendar[r][i];endDate=this.endDate;if(typeof this.dateLimit=="object"){var o=(new Date(startDate)).add(this.dateLimit);if(endDate.isAfter(o)){endDate=o}}this.element.trigger("clicked",{dir:"left",picker:this})}else{startDate=this.startDate;endDate=this.rightCalendar.calendar[r][i];if(typeof this.dateLimit=="object"){var u={days:0-this.dateLimit.days,months:0-this.dateLimit.months,years:0-this.dateLimit.years};var a=(new Date(endDate)).add(u);if(startDate.isBefore(a)){startDate=a}}this.element.trigger("clicked",{dir:"right",picker:this})}s.find("td").removeClass("active");if(startDate.equals(endDate)||startDate.isBefore(endDate)){e(t.target).addClass("active");if(!startDate.equals(this.startDate)||!endDate.equals(this.endDate))this.changed=true;this.startDate=startDate;this.endDate=endDate}else if(startDate.isAfter(endDate)){e(t.target).addClass("active");this.changed=true;this.startDate=startDate;this.endDate=startDate.clone().add(1).days()}this.leftCalendar.month.set({month:this.startDate.getMonth(),year:this.startDate.getFullYear()});this.rightCalendar.month.set({month:this.endDate.getMonth(),year:this.endDate.getFullYear()});this.updateCalendars()},clickApply:function(e){this.hide()},clickClear:function(e){this.changed=true;this.cleared=true;this.hide()},updateYear:function(t){var n=parseInt(e(t.target).val());var r=e(t.target).closest(".calendar").hasClass("left");if(r){this.leftCalendar.month.set({month:this.startDate.getMonth(),year:n})}else{this.rightCalendar.month.set({month:this.endDate.getMonth(),year:n})}this.updateCalendars()},updateMonth:function(t){var n=parseInt(e(t.target).val());var r=e(t.target).closest(".calendar").hasClass("left");if(r){this.leftCalendar.month.set({month:n,year:this.startDate.getFullYear()})}else{this.rightCalendar.month.set({month:n,year:this.endDate.getFullYear()})}this.updateCalendars()},updateCalendars:function(){this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.getMonth(),this.leftCalendar.month.getFullYear());this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.getMonth(),this.rightCalendar.month.getFullYear());this.container.find(".calendar.left").html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate));this.container.find(".calendar.right").html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.startDate,this.maxDate));this.container.find(".ranges li").removeClass("active");var e=true;var t=0;for(var n in this.ranges){if(this.startDate.equals(this.ranges[n][0])&&this.endDate.equals(this.ranges[n][1])){e=false;this.container.find(".ranges li:eq("+t+")").addClass("active")}t++}if(e)this.container.find(".ranges li:last").addClass("active");this.element.trigger("updated",this)},buildCalendar:function(e,t){var n=Date.today().set({day:1,month:e,year:t});var r=n.clone().add(-1).day().getMonth();var i=n.clone().add(-1).day().getFullYear();var s=Date.getDaysInMonth(t,e);var o=Date.getDaysInMonth(i,r);var u=n.getDay();var a=Array();for(var f=0;f<6;f++){a[f]=Array()}var l=o-u+this.locale.firstDay+1;if(l>o)l-=7;if(u==this.locale.firstDay)l=o-6;var c=Date.today().set({day:l,month:r,year:i});for(var f=0,h=0,p=0;f<42;f++,h++,c=c.clone().add(1).day()){if(f>0&&h%7==0){h=0;p++}a[p][h]=c}return a},renderDropdowns:function(e,t,n){var r=e.getMonth();var i='<select class="monthselect">';var s=false;var o=false;for(var u=0;u<12;u++){if((!s||u>=t.getMonth())&&(!o||u<=n.getMonth())){i+="<option value='"+u+"'"+(u===r?" selected='selected'":"")+">"+this.locale.monthNames[u]+"</option>"}}i+="</select>";var a=e.getFullYear();var f=n&&n.getFullYear()||a+5;var l=t&&t.getFullYear()||a-50;var c='<select class="yearselect">';for(var h=l;h<=f;h++){c+='<option value="'+h+'"'+(h===a?' selected="selected"':"")+">"+h+"</option>"}c+="</select>";return i+c},renderCalendar:function(t,n,r,i){var s='<table class="table-condensed">';s+="<thead>";s+="<tr>";if(this.showWeekNumbers)s+="<th></th>";if(!r||r<t[1][1]){s+='<th class="prev available"><i class="icon-arrow-left"></i></th>'}else{s+="<th></th>"}var o=this.locale.monthNames[t[1][1].getMonth()]+t[1][1].toString(" yyyy");if(this.showDropdowns){o=this.renderDropdowns(t[1][1],r,i)}s+='<th colspan="5" style="width: auto">'+o+"</th>";if(!i||i>t[1][1]){s+='<th class="next available"><i class="icon-arrow-right"></i></th>'}else{s+="<th></th>"}s+="</tr>";s+="<tr>";if(this.showWeekNumbers)s+='<th class="week">'+this.locale.weekLabel+"</th>";e.each(this.locale.daysOfWeek,function(e,t){s+="<th>"+t+"</th>"});s+="</tr>";s+="</thead>";s+="<tbody>";for(var u=0;u<6;u++){s+="<tr>";if(this.showWeekNumbers)s+='<td class="week">'+t[u][0].getWeek()+"</td>";for(var a=0;a<7;a++){var f="available ";f+=t[u][a].getMonth()==t[1][1].getMonth()?"":"off";n.setHours(0,0,0,0);if(r&&t[u][a]<r||i&&t[u][a]>i){f=" off disabled "}else if(t[u][a].equals(n)){f+=" active ";if(t[u][a].equals(this.startDate)){f+=" start-date "}if(t[u][a].equals(this.endDate)){f+=" end-date "}}else if(t[u][a]>=this.startDate&&t[u][a]<=this.endDate){f+=" in-range ";if(t[u][a].equals(this.startDate)){f+=" start-date "}if(t[u][a].equals(this.endDate)){f+=" end-date "}}var l="r"+u+"c"+a;s+='<td class="'+f.replace(/\s+/g," ").replace(/^\s?(.*?)\s?$/,"$1")+'" title="'+l+'">'+t[u][a].getDate()+"</td>"}s+="</tr>"}s+="</tbody>";s+="</table>";return s}};e.fn.daterangepicker=function(n,r){this.each(function(){var i=e(this);if(!i.data("daterangepicker"))i.data("daterangepicker",new t(i,n,r))});return this}}(window.jQuery)